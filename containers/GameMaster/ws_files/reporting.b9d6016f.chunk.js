(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"./src/routes/NavigationTimingReporter.tsx":function(e,n,t){"use strict";t.r(n);var r=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),a=t("./src/framework/reporter/performance.tsx"),i=t("./src/log/datapupLogger.ts"),u=t("./src/routes/RoutingContext.tsx"),s=t("./src/store/selectors/session.ts"),c=t("./src/util/performance.ts"),l=function(e){return Math.round(1e3*e)};n.default=function(e){var n=e.to,t=e.from,d=r.useRef(null),f=Object(a.c)(),m=Object(u.c)(),p=Object(o.f)((function(e){return e.debug.originalSpanCarrier})),g=Object(o.f)((function(e){return e.session.user.id})),v=Object(o.f)((function(e){return e.tracing}),o.d),h=v.originalSpan,w=v.tracer;return r.useEffect((function(){if(w)if(d.current||n.pathname===t.pathname){if(d.current){var e,r,o,a,u=d.current,v=Date.now();d.current=null;var b={to:null!==(e=null===(r=m(n.pathname))||void 0===r?void 0:r.route.name)&&void 0!==e?e:"unknown",from:null!==(o=null===(a=m(t.pathname))||void 0===a?void 0:a.route.name)&&void 0!==o?o:"unknown",loggedIn:Object(s.a)(g)},j={tags:b};p&&(j.childOf=h),w.startSpan("client.navigation",j).setBeginMicros(l(u)).setEndMicros(l(v)).finish(),f&&f.reportClientNav(b,new c.a(u,v)),i.a.log("client navigation",{duration:v-u,to:n.pathname,toRouteName:b.to,from:t.pathname,fromRouteName:b.from,loggedIn:b.loggedIn})}}else d.current=Date.now()}),[w,n.pathname,t.pathname]),null}}}]);
//# sourceMappingURL=reporting.b9d6016f.chunk.js.map