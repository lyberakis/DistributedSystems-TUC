{"map":{"version":3,"sources":["static/js/main.14acb281.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","41","p","42","43","44","45","46","47","48","49","50","51","52","82","85","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","Square","props","a","createElement","className","shade","onClick","style","board_Board","_React$Component","Object","Board","_super","apply","arguments","key","value","i","squareShade","_this","squares","board","squareRows","j","isEven","renderSquare","id","Component","num","fallen_soldier_block_FallenSoldierBlock","FallenSoldierBlock","square","piece","whiteFallenSoldiers","map","ws","index","blackFallenSoldiers","bs","piece_Piece","Piece","player","iconUrl","backgroundImage","bishop_Bishop","_Piece","Bishop","call","src","dest","Math","abs","pathStart","pathEnd","incrementBy","path","king_King","King","knight_Knight","Knight","pawn_Pawn","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","queen_Queen","Queen","mod","diff","rook_Rook","Rook","initialiseChessBoard","Array","fill","lib","lib_default","stringsToClasses","classes","length","splitter","toString","split","parseInt","connect","server","token","handShake","query","socket","connectionStatus","game_Game","Game","obj","args","url_string","window","location","url","URL","host","hostname","playmanster","searchParams","get","gamemaster","getArgumenets","data","state","sourceSelection","kingStatus","turn","type","myTurn","changePawn","status","progress","roundID","setBishop","bind","setQueen","setKnight","setRook","on","message","setState","console","log","disconnect","xhr","XMLHttpRequest","onload","e","readyState","respone","JSON","parse","responseText","reconnect","open","send","slice","backgroundColor","constructor","name","isMovePossible","srcToDestPath","getSrcToDestPath","isMoveLegal","whitePushed","blackPushed","check","saveSquare","_player","_turn","moveOn","_j4","k","checkSrcToDestPath","pop","_j5","_k","_checkSrcToDestPath","_j6","_k2","_srcToDestPath10","itisCheck","l","m","countMoves","_l","_isDestEnemyOccupied","_l2","_isDestEnemyOccupied2","_l3","_isDestEnemyOccupied3","_l4","_isDestEnemyOccupied4","_l5","_isDestEnemyOccupied5","_l6","_isDestEnemyOccupied6","_l7","_isDestEnemyOccupied7","_l8","_isDestEnemyOccupied8","blackPieces","whitePieces","_j7","_j8","_countMoves","_l9","_isDestEnemyOccupied9","_l10","_isDestEnemyOccupied10","_l11","_isDestEnemyOccupied11","_l12","_isDestEnemyOccupied12","_l13","_isDestEnemyOccupied13","_l14","_isDestEnemyOccupied14","_l15","_isDestEnemyOccupied15","_l16","_isDestEnemyOccupied16","_j9","_j10","textSquares","classesToStrings","textWhiteFallenSoldiers","textBlackFallenSoldiers","emit","isPossible","srcToDestPath1","srcToDestPath2","srcToDestPath3","_j","_srcToDestPath","_srcToDestPath2","_srcToDestPath3","_j2","_srcToDestPath4","_srcToDestPath5","_srcToDestPath6","_j3","_srcToDestPath7","_srcToDestPath8","_srcToDestPath9","_message","isLegal","newSquares","dontChange","_this2","showButtons","handleClick","render","document","getElementById","9"],"mappings":"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"},"code":"(this[\"webpackJsonpreact-chess\"]=this[\"webpackJsonpreact-chess\"]||[]).push([[0],{36:function(e,t,s){e.exports=s(85)},41:function(e,t,s){e.exports=s.p+\"static/media/white_bishop.28e8d8aa.svg\"},42:function(e,t,s){e.exports=s.p+\"static/media/black_bishop.749373a9.svg\"},43:function(e,t,s){e.exports=s.p+\"static/media/white_king.31362a80.svg\"},44:function(e,t,s){e.exports=s.p+\"static/media/black_king.ea645f11.svg\"},45:function(e,t,s){e.exports=s.p+\"static/media/white_knight.3ece5029.svg\"},46:function(e,t,s){e.exports=s.p+\"static/media/black_knight.88ad52be.svg\"},47:function(e,t,s){e.exports=s.p+\"static/media/white_pawn.27d127d0.svg\"},48:function(e,t,s){e.exports=s.p+\"static/media/black_pawn.44553199.svg\"},49:function(e,t,s){e.exports=s.p+\"static/media/white_queen.01938cfd.svg\"},50:function(e,t,s){e.exports=s.p+\"static/media/black_queen.9fbe0beb.svg\"},51:function(e,t,s){e.exports=s.p+\"static/media/white_rook.007b43f5.svg\"},52:function(e,t,s){e.exports=s.p+\"static/media/black_rook.e7f61dec.svg\"},82:function(e,t){},85:function(e,t,s){\"use strict\";s.r(t);var a=s(0),i=s.n(a),r=s(34),n=s.n(r),o=(s(9),s(7)),l=s(1),c=s(2),h=s(6),u=s(4),v=s(3);function g(e){return i.a.createElement(\"button\",{className:\"square \"+e.shade,onClick:e.onClick,style:e.style})}var p=function(e){Object(u.a)(s,e);var t=Object(v.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t){var s=this;return i.a.createElement(g,{style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return s.props.onClick(e)}})}},{key:\"render\",value:function(){for(var e=[],t=0;t<8;t++){for(var s=[],a=0;a<8;a++){var r=f(t)&&f(a)||!f(t)&&!f(a)?\"light-square\":\"dark-square\";s.push(this.renderSquare(8*t+a,r))}e.push(i.a.createElement(\"div\",{className:\"board-row\"},s))}return i.a.createElement(\"div\",{id:\"centered\"},e)}}]),s}(i.a.Component);function f(e){return e%2===0}var b=function(e){Object(u.a)(s,e);var t=Object(v.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t,s){return i.a.createElement(g,{piece:e,style:e.style})}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"board-row\"},this.props.whiteFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))),i.a.createElement(\"div\",{className:\"board-row\"},this.props.blackFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))))}}]),s}(i.a.Component),S=function e(t,s){Object(l.a)(this,e),this.player=t,this.style={backgroundImage:\"url('\"+s+\"')\"}},k=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?41:42))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,r=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%9===0?(i=9,s+=9):(i=7,s+=7);for(var n=s;n<a;n+=i)r.push(n);return r}}]),a}(S),d=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?43:44))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:\"getSrcToDestPath\",value:function(e,t){return[]}}]),a}(S),y=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?45:46))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:\"getSrcToDestPath\",value:function(){return[]}}]),a}(S),m=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e,s(1===e?47:48))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},i}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t,s){if(1===this.player){if(t===e-8&&!s||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(s&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!s||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(s&&(t===e+9||t===e+7))return!0}return!1}},{key:\"getSrcToDestPath\",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),a}(S),P=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?49:50))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,r=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):Math.abs(e-t)%9===0?(i=9,s+=9):Math.abs(e-t)%7===0?(i=7,s+=7):(i=1,s+=1);for(var n=s;n<a;n+=i)r.push(n);return r}}]),a}(S),w=function(e){Object(u.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?51:52))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,r=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):(i=1,s+=1);for(var n=s;n<a;n+=i)r.push(n);return r}}]),a}(S);function M(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new m(2),e[t+40]=new m(1);return e[0]=new w(2),e[7]=new w(2),e[56]=new w(1),e[63]=new w(1),e[1]=new y(2),e[6]=new y(2),e[57]=new y(1),e[62]=new y(1),e[2]=new k(2),e[5]=new k(2),e[58]=new k(1),e[61]=new k(1),e[3]=new P(2),e[4]=new d(2),e[59]=new P(1),e[60]=new d(1),e}var T=s(35),D=s.n(T);function O(e){var t=[];if(e)for(var s=0;s<e.length;s++){var a=e[s].toString().split(\" \");switch(a[0]){case\"King\":t.push(new d(parseInt(a[1])));break;case\"Pawn\":t.push(new m(parseInt(a[1])));break;case\"Queen\":t.push(new P(parseInt(a[1])));break;case\"Bishop\":t.push(new k(parseInt(a[1])));break;case\"Knight\":t.push(new y(parseInt(a[1])));break;case\"Rook\":t.push(new w(parseInt(a[1])));break;default:t.push(null)}}return t}function j(e,t){var s={query:\"token=\"+t},a=D()(e,s);return{socket:a,connectionStatus:a.connected?0:-1}}var q=function(e){Object(u.a)(s,e);var t=Object(v.a)(s);function s(e){var a;Object(l.a)(this,s),a=t.call(this,e);var i,r=function(){var e=window.location.href,t=new URL(e),s=t.hostname,a=t.searchParams.get(\"pm\"),i=t.searchParams.get(\"gm\");return{host:s,token:t.searchParams.get(\"token\"),playmanster:a,gamemaster:i}}(),n=j(r.host+\":\"+r.playmanster,r.token);return a.state={squares:M(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,kingStatus:\"\",turn:\"white\",type:null,myTurn:!1,changePawn:-1,host:r.host,gamemaster:r.gamemaster,token:r.token,socket:n.socket,status:\"\",connectionStatus:n.connectionStatus,progress:0,roundID:null},a.setBishop=a.setBishop.bind(Object(h.a)(a)),a.setQueen=a.setQueen.bind(Object(h.a)(a)),a.setKnight=a.setKnight.bind(Object(h.a)(a)),a.setRook=a.setRook.bind(Object(h.a)(a)),(i=Object(h.a)(a)).state.socket.on(\"wait\",(function(e){i.setState({connectionStatus:1,roundID:e.roundID})})),i.state.socket.on(\"init\",(function(e){null===i.state.type?i.setState({connectionStatus:2,myTurn:e.turn,roundID:e.roundID}):i.setState({connectionStatus:2,roundID:e.roundID})})),i.state.socket.on(\"viewer\",(function(e){console.log(\"VIWER\");var t=O(e);i.setState({connectionStatus:5,squares:t,myTurn:!1})})),i.state.socket.on(\"board\",(function(e){var t,s,a=O(e.board),r=O(e.whiteFallenSoldiers),n=O(e.blackFallenSoldiers);e.dontChange?(t=i.state.turn,s=i.state.player):(t=\"white\"===i.state.turn?\"black\":\"white\",s=1===i.state.player?2:1),i.setState({squares:a,turn:t,whiteFallenSoldiers:r,blackFallenSoldiers:n,status:e.status,kingStatus:e.kingStatus,player:s,myTurn:!0}),0!==e.progress&&i.setState({connectionStatus:3})})),i.state.socket.on(\"disconnect\",(function(e){if(!(i.state.connectionStatus<0||i.state.connectionStatus>2)){i.state.socket.disconnect(),i.setState({connectionStatus:4});var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.connectionStatus){var s=JSON.parse(t.responseText);i.reconnect(s.playmaster)}else 403===t.connectionStatus&&i.setState({connectionStatus:-3})};var s=\"http://\"+i.state.host+\":\"+i.state.gamemaster+\"?token=\"+i.state.token+\"&game=chess\";t.open(\"GET\",s),t.send()}})),i.state.socket.on(\"endgame\",(function(e){i.setState({connectionStatus:4}),i.state.socket.disconnect()})),a}return Object(c.a)(s,[{key:\"handleClick\",value:function(e){if(this.state.myTurn){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"RGB(111,143,114)\"}),this.setState({status:\"Choose destination for the selected piece\",sourceSelection:e})):(this.setState({status:\"Wrong selection. Choose player \"+this.state.player+\" pieces.\"}),t[e]&&(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"\"})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=Object(o.a)(Object(o.a)({},t[this.state.sourceSelection].style),{},{backgroundColor:\"\"}),!t[e]||t[e].player!==this.state.player||\"King\"!==t[this.state.sourceSelection].constructor.name&&\"Rook\"!==t[this.state.sourceSelection].constructor.name||\"King\"!==t[e].constructor.name&&\"Rook\"!==t[e].constructor.name)if(t[e]&&t[e].player===this.state.player)this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1});else{var s=this.state.whiteFallenSoldiers.slice(),a=this.state.blackFallenSoldiers.slice(),i=!!t[e],r=t[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,i),n=t[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),l=this.isMoveLegal(n,t);if(r&&l){var c=!1,h=!1;null!==t[e]&&(1===t[e].player?(s.push(t[e]),c=!0):(a.push(t[e]),h=!0));var u=!1;\"Check.\"===this.state.kingStatus&&(u=!0);var v=0,g=t[e];t[e]=t[this.state.sourceSelection],t[this.state.sourceSelection]=null;var p=1===this.state.player?2:1,f=\"white\"===this.state.turn?\"black\":\"white\";this.setState({sourceSelection:-1,squares:t,whiteFallenSoldiers:s,blackFallenSoldiers:a,myTurn:!this.state.myTurn,player:p,status:\"\",kingStatus:\"\",turn:f,type:f,changePawn:-1});var b=!0;if(u){for(var S=0;S<t.length;S++)if(t[S]&&\"King\"===t[S].constructor.name&&t[S].player===this.state.player){for(var k=0;k<t.length;k++)if(t[k]&&t[k].player!==this.state.player){var d=t[k].getSrcToDestPath(k,S);if(t[k].isMovePossible(k,S,i)&&this.isMoveLegal(d,t)){t[this.state.sourceSelection]=t[e],t[e]=g,p=1===this.state.player?1:2,f=\"white\"===this.state.turn?\"white\":\"black\",c?s.pop():h&&a.pop(),this.setState({squares:t,whiteFallenSoldiers:s,blackFallenSoldiers:a,player:p,myTurn:this.state.myTurn,kingStatus:\"Check.\",status:\"Wrong selection. You need to avoid check.\",turn:f,type:f}),v=-1,b=!1;break}}break}}else for(var y=0;y<t.length;y++)if(t[y]&&\"King\"===t[y].constructor.name&&t[y].player===this.state.player){for(var m=0;m<t.length;m++)if(t[m]&&t[m].player!==this.state.player){var P=t[m].getSrcToDestPath(m,y);if(t[m].isMovePossible(m,y,i)&&this.isMoveLegal(P,t)){t[this.state.sourceSelection]=t[e],t[e]=g,p=1===this.state.player?1:2,f=\"white\"===this.state.turn?\"white\":\"black\",c?s.pop():h&&a.pop(),this.setState({squares:t,whiteFallenSoldiers:s,blackFallenSoldiers:a,myTurn:this.state.myTurn,player:p,kingStatus:\"\",status:\"Wrong selection. You cannot go to check.\",turn:f,type:f}),v=-1,b=!1;break}}break}if(b){for(var w=0;w<t.length;w++)if(t[w]&&\"King\"===t[w].constructor.name&&t[w].player!==this.state.player){for(var M=0;M<t.length;M++)if(t[M]&&t[M].player===this.state.player){var T=t[M].getSrcToDestPath(M,w);if(t[M].isMovePossible(M,w,i)&&this.isMoveLegal(T,t)){var D=!1;T[T.length]=M;for(var O=0;O<t.length;O++)if(t[O]&&t[O].player!==this.state.player)for(var j=0;j<T.length;j++)if(t[O].isMovePossible(O,T[j],i)&&this.isMoveLegal(t[O].getSrcToDestPath(O,T[j]),t)&&\"King\"!==t[O].constructor.name){D=!0;break}if(!0===D){var q=0;if((!t[w-1]||w-1===M)&&w-1>=0){for(var L=0;L<t.length;L++)if(t[L]&&t[L].player===this.state.player&&L!==M){var C=!!t[L];if(t[L].isMovePossible(L,w-1,C)&&this.isMoveLegal(t[L].getSrcToDestPath(L,w-1),t)){q++;break}}}else q++;if((!t[w+1]||w+1===M)&&w+1<64){for(var I=0;I<t.length;I++)if(t[I]&&t[I].player===this.state.player&&I!==M){var F=!!t[I];if(t[I].isMovePossible(I,w+1,F)&&this.isMoveLegal(t[I].getSrcToDestPath(I,w+1),t)){q++;break}}}else q++;if((!t[w-7]||w-7===M)&&w-7>=0){for(var E=0;E<t.length;E++)if(t[E]&&t[E].player===this.state.player&&E!==M){var K=!!t[E];if(t[E].isMovePossible(E,w-7,K)&&this.isMoveLegal(t[E].getSrcToDestPath(E,w-7),t)){q++;break}}}else q++;if((!t[w+7]||w+7===M)&&w+7<64){for(var x=0;x<t.length;x++)if(t[x]&&t[x].player===this.state.player&&x!==M){var R=!!t[x];if(t[x].isMovePossible(x,w+7,R)&&this.isMoveLegal(t[x].getSrcToDestPath(x,w+7),t)){q++;break}}}else q++;if((!t[w-8]||w-8===M)&&w-8>=0){for(var _=0;_<t.length;_++)if(t[_]&&t[_].player===this.state.player&&_!==M){var B=!!t[_];if(t[_].isMovePossible(_,w-8,B)&&this.isMoveLegal(t[_].getSrcToDestPath(_,w-8),t)){q++;break}}}else q++;if((!t[w+8]||w+8===M)&&w+8<64){for(var N=0;N<t.length;N++)if(t[N]&&t[N].player===this.state.player&&N!==M){var Q=!!t[N];if(t[N].isMovePossible(N,w+8,Q)&&this.isMoveLegal(t[N].getSrcToDestPath(N,w+8),t)){q++;break}}}else q++;if((!t[w-9]||w-9===M)&&w-9>=0){for(var W=0;W<t.length;W++)if(t[W]&&t[W].player===this.state.player&&W!==M){var J=!!t[W];if(t[W].isMovePossible(W,w-9,J)&&this.isMoveLegal(t[W].getSrcToDestPath(W,w-9),t)){q++;break}}}else q++;if((!t[w+9]||w+9===M)&&w+9<64){for(var G=0;G<t.length;G++)if(t[G]&&t[G].player===this.state.player&&G!==M){var Y=!!t[G];if(t[G].isMovePossible(G,w+9,Y)&&this.isMoveLegal(t[G].getSrcToDestPath(G,w+9),t)){q++;break}}}else q++;8===q&&(D=!1)}!0===D?(this.setState({kingStatus:\"Check.\"}),v=1):(this.setState({kingStatus:\"Checkmate.\"}),v=2);break}}break}for(var A=0,H=0,U=0;U<t.length;U++)t[U]&&(1===t[U].player?H++:A++);if(1===A&&1===H)this.setState({kingStatus:\"Stalemate.\"}),v=3;else if(1===A&&1===this.state.player||1===H&&2===this.state.player)for(var V=0;V<t.length;V++)if(t[V]&&\"King\"===t[V].constructor.name&&t[V].player!==this.state.player){var X=0;if(!t[V-1]&&V-1>0){for(var z=0;z<t.length;z++)if(t[z]&&t[z].player===this.state.player){var Z=!!t[z];if(t[z].isMovePossible(z,V-1,Z)&&this.isMoveLegal(t[z].getSrcToDestPath(z,V-1),t)){X++;break}}}else X++;if(!t[V+1]&&V+1<64){for(var $=0;$<t.length;$++)if(t[$]&&t[$].player===this.state.player){var ee=!!t[$];if(t[$].isMovePossible($,V+1,ee)&&this.isMoveLegal(t[$].getSrcToDestPath($,V+1),t)){X++;break}}}else X++;if(!t[V-7]&&V-7>0){for(var te=0;te<t.length;te++)if(t[te]&&t[te].player===this.state.player){var se=!!t[te];if(t[te].isMovePossible(te,V-7,se)&&this.isMoveLegal(t[te].getSrcToDestPath(te,V-7),t)){X++;break}}}else X++;if(!t[V+7]&&V+7<64){for(var ae=0;ae<t.length;ae++)if(t[ae]&&t[ae].player===this.state.player){var ie=!!t[ae];if(t[ae].isMovePossible(ae,V+7,ie)&&this.isMoveLegal(t[ae].getSrcToDestPath(ae,V+7),t)){X++;break}}}else X++;if(!t[V-8]&&V-8>0){for(var re=0;re<t.length;re++)if(t[re]&&t[re].player===this.state.player){var ne=!!t[re];if(t[re].isMovePossible(re,V-8,ne)&&this.isMoveLegal(t[re].getSrcToDestPath(re,V-8),t)){X++;break}}}else X++;if(!t[V+8]&&V+8<64){for(var oe=0;oe<t.length;oe++)if(t[oe]&&t[oe].player===this.state.player){var le=!!t[oe];if(t[oe].isMovePossible(oe,V+8,le)&&this.isMoveLegal(t[oe].getSrcToDestPath(oe,V+8),t)){X++;break}}}else X++;if(!t[V-9]&&V-9>0){for(var ce=0;ce<t.length;ce++)if(t[ce]&&t[ce].player===this.state.player){var he=!!t[ce];if(t[ce].isMovePossible(ce,V-9,he)&&this.isMoveLegal(t[ce].getSrcToDestPath(ce,V-9),t)){X++;break}}}else X++;if(!t[V+9]&&V+9<64){for(var ue=0;ue<t.length;ue++)if(t[ue]&&t[ue].player===this.state.player){var ve=!!t[ue];if(t[ue].isMovePossible(ue,V+9,ve)&&this.isMoveLegal(t[ue].getSrcToDestPath(ue,V+9),t)){X++;break}}}else X++;8===X&&(this.setState({kingStatus:\"Stalemate.\"}),v=3);break}if(1===this.state.player){for(var ge=0;ge<8;ge++)if(t[ge]&&1===t[ge].player&&\"Pawn\"===t[ge].constructor.name){this.setState({changePawn:ge});break}}else for(var pe=56;pe<64;pe++)if(t[pe]&&2===t[pe].player&&\"Pawn\"===t[pe].constructor.name){this.setState({changePawn:pe});break}}if(-1!==v){Ke=this.classesToStrings(t),xe=this.classesToStrings(s),Re=this.classesToStrings(a);var fe={roundID:this.state.roundID,board:Ke,whiteFallenSoldiers:xe,blackFallenSoldiers:Re,kingStatus:\"\",progress:0};2===v?fe={roundID:this.state.roundID,board:Ke,kingStatus:\"Checkmate.\",whiteFallenSoldiers:xe,blackFallenSoldiers:Re,progress:1}:3===v?fe={roundID:this.state.roundID,board:Ke,kingStatus:\"Stalemate.\",whiteFallenSoldiers:xe,blackFallenSoldiers:Re,progress:2}:1===v&&(fe={roundID:this.state.roundID,board:Ke,whiteFallenSoldiers:xe,blackFallenSoldiers:Re,kingStatus:\"Check.\",progress:0}),this.state.socket.emit(\"update\",fe)}}else this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1})}else{var be=!0;if(1===t[e].player?60===this.state.sourceSelection&&\"King\"===t[this.state.sourceSelection].constructor.name?63!==e&&56!==e&&(be=!1):60===e&&\"King\"===t[e].constructor.name?63!==this.state.sourceSelection&&56!==this.state.sourceSelection&&(be=!1):be=!1:4===this.state.sourceSelection&&\"King\"===t[this.state.sourceSelection].constructor.name?0!==e&&7!==e&&(be=!1):4===e&&\"King\"===t[e].constructor.name?0!==this.state.sourceSelection&&7!==this.state.sourceSelection&&(be=!1):be=!1,be&&(1===t[e].player?63===e||63===this.state.sourceSelection?(t[61]||t[62])&&(be=!1):(t[57]||t[58]||t[59])&&(be=!1):7===e||7===this.state.sourceSelection?(t[5]||t[6])&&(be=!1):(t[1]||t[2]||t[3])&&(be=!1),be))if(1===t[e].player){if(63===e||63===this.state.sourceSelection){for(var Se=0;Se<t.length;Se++)if(t[Se]&&t[Se].player!==this.state.player){var ke=t[Se].getSrcToDestPath(Se,60),de=t[Se].getSrcToDestPath(Se,61),ye=t[Se].getSrcToDestPath(Se,62);if(t[Se].isMovePossible(Se,60,!1)&&this.isMoveLegal(ke,t)||t[Se].isMovePossible(Se,61,!1)&&this.isMoveLegal(de,t)||t[Se].isMovePossible(Se,62,!1)&&this.isMoveLegal(ye,t)){be=!1;break}}}else for(var me=0;me<t.length;me++)if(t[me]&&t[me].player!==this.state.player){var Pe=t[me].getSrcToDestPath(me,60),we=t[me].getSrcToDestPath(me,59),Me=t[me].getSrcToDestPath(me,58);if(t[me].isMovePossible(me,60,!1)&&this.isMoveLegal(Pe,t)||t[me].isMovePossible(me,59,!1)&&this.isMoveLegal(we,t)||t[me].isMovePossible(me,58,!1)&&this.isMoveLegal(Me,t)){be=!1;break}}}else if(7===e||7===this.state.sourceSelection){for(var Te=0;Te<t.length;Te++)if(t[Te]&&t[Te].player!==this.state.player){var De=t[Te].getSrcToDestPath(Te,4),Oe=t[Te].getSrcToDestPath(Te,5),je=t[Te].getSrcToDestPath(Te,6);if(t[Te].isMovePossible(Te,4,!1)&&this.isMoveLegal(De,t)||t[Te].isMovePossible(Te,5,!1)&&this.isMoveLegal(Oe,t)||t[Te].isMovePossible(Te,6,!1)&&this.isMoveLegal(je,t)){be=!1;break}}}else for(var qe=0;qe<t.length;qe++)if(t[qe]&&t[qe].player!==this.state.player){var Le=t[qe].getSrcToDestPath(qe,4),Ce=t[qe].getSrcToDestPath(qe,3),Ie=t[qe].getSrcToDestPath(qe,2);if(t[qe].isMovePossible(qe,4,!1)&&this.isMoveLegal(Le,t)||t[qe].isMovePossible(qe,3,!1)&&this.isMoveLegal(Ce,t)||t[qe].isMovePossible(qe,2,!1)&&this.isMoveLegal(Ie,t)){be=!1;break}}if(be){1===t[e].player?(63===e||63===this.state.sourceSelection?(t[62]=t[60],t[61]=t[63],t[63]=null):(t[58]=t[60],t[59]=t[56],t[56]=null),t[60]=null):(7===e||7===this.state.sourceSelection?(t[6]=t[4],t[5]=t[7],t[7]=null):(t[2]=t[4],t[3]=t[0],t[0]=null),t[4]=null);var Fe=1===this.state.player?2:1,Ee=\"white\"===this.state.turn?\"black\":\"white\";this.setState({squares:t,player:Fe,turn:Ee,type:Ee,kingStatus:\"\",myTurn:!this.state.myTurn,changePawn:-1,status:\"Castling occured.\",sourceSelection:-1});var Ke=this.classesToStrings(t),xe=this.classesToStrings(this.state.whiteFallenSoldiers),Re=this.classesToStrings(this.state.blackFallenSoldiers),_e={roundID:this.state.roundID,board:Ke,whiteFallenSoldiers:xe,blackFallenSoldiers:Re,progress:0};this.state.socket.emit(\"update\",_e)}else this.setState({status:\"Wrong selection. Castling not allowed.\",sourceSelection:-1})}}}},{key:\"isMoveLegal\",value:function(e,t){for(var s=!0,a=0;a<e.length;a++)null!==t[e[a]]&&(s=!1);return s}},{key:\"classesToStrings\",value:function(e){for(var t=[],s=0;s<e.length;s++)if(e[s])switch(e[s].constructor.name){case\"King\":1===e[s].player?t.push(\"King 1\"):t.push(\"King 2\");break;case\"Pawn\":1===e[s].player?t.push(\"Pawn 1\"):t.push(\"Pawn 2\");break;case\"Queen\":1===e[s].player?t.push(\"Queen 1\"):t.push(\"Queen 2\");break;case\"Bishop\":1===e[s].player?t.push(\"Bishop 1\"):t.push(\"Bishop 2\");break;case\"Knight\":1===e[s].player?t.push(\"Knight 1\"):t.push(\"Knight 2\");break;case\"Rook\":1===e[s].player?t.push(\"Rook 1\"):t.push(\"Rook 2\")}else t.push(0);return t}},{key:\"setBishop\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new k(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new k(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setQueen\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new P(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new P(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setKnight\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new y(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new y(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setRook\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new w(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new w(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"render\",value:function(){var e=this,t=!1;return-1!==this.state.changePawn&&(t=!0),i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"game\"},i.a.createElement(\"div\",{className:\"game-board\"},i.a.createElement(p,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),i.a.createElement(\"div\",{className:\"game-info\"},i.a.createElement(\"h3\",null,\"Turn\"),i.a.createElement(\"div\",{id:\"player-turn-box\",style:{backgroundColor:this.state.turn}}),i.a.createElement(\"div\",{className:\"game-status\"},this.state.kingStatus),i.a.createElement(\"div\",{className:\"game-status\"},this.state.status),i.a.createElement(\"div\",{className:\"fallen-soldier-block\"},i.a.createElement(b,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers})),t?i.a.createElement(\"div\",null,\" \",i.a.createElement(\"button\",{onClick:this.setBishop},\" Bishop \"),i.a.createElement(\"button\",{onClick:this.setQueen},\" Queen \"),i.a.createElement(\"button\",{onClick:this.setKnight},\" Knight \"),i.a.createElement(\"button\",{onClick:this.setRook},\" Rook \")):i.a.createElement(\"div\",null,\" \"))))}}]),s}(i.a.Component);n.a.render(i.a.createElement(q,null),document.getElementById(\"root\"))},9:function(e,t,s){}},[[36,1,2]]]);","extractedComments":[]}