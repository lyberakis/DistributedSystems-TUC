{"map":{"version":3,"sources":["static/js/main.48cd7191.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","41","p","42","43","44","45","46","47","48","49","50","51","52","82","85","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","Square","props","a","createElement","className","shade","onClick","style","board_Board","_React$Component","Object","Board","_super","apply","arguments","key","value","i","squareShade","_this","squares","board","squareRows","j","isEven","renderSquare","id","Component","num","fallen_soldier_block_FallenSoldierBlock","FallenSoldierBlock","square","piece","whiteFallenSoldiers","map","ws","index","blackFallenSoldiers","bs","piece_Piece","Piece","player","iconUrl","backgroundImage","bishop_Bishop","_Piece","Bishop","call","src","dest","Math","abs","pathStart","pathEnd","incrementBy","path","king_King","King","knight_Knight","Knight","pawn_Pawn","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","queen_Queen","Queen","mod","diff","rook_Rook","Rook","initialiseChessBoard","Array","fill","lib","lib_default","connect","server","token","handShake","query","socket","connectionStatus","stringsToClasses","classes","length","splitter","toString","split","parseInt","game_Game","Game","obj","args","url_string","window","location","url","URL","host","hostname","playmanster","searchParams","get","gamemaster","getArgumenets","data","state","sourceSelection","kingStatus","turn","type","myTurn","changePawn","status","progress","roundID","setBishop","bind","setQueen","setKnight","setRook","on","message","setState","myColor","console","log","disconnect","xhr","XMLHttpRequest","onload","e","readyState","respone","JSON","parse","responseText","reconnect","open","send","slice","backgroundColor","isPossible","srcToDestPath1","getSrcToDestPath","srcToDestPath2","srcToDestPath3","isMovePossible","isMoveLegal","_j","_srcToDestPath","_srcToDestPath2","_srcToDestPath3","_j2","_srcToDestPath4","_srcToDestPath5","_srcToDestPath6","_j3","_srcToDestPath7","_srcToDestPath8","_srcToDestPath9","textSquares","classesToStrings","textWhiteFallenSoldiers","textBlackFallenSoldiers","_message","emit","srcToDestPath","whitePushed","blackPushed","check","saveSquare","_player","_turn","moveOn","_j4","k","checkSrcToDestPath","pop","_j5","_k","_checkSrcToDestPath","_j6","_k2","_srcToDestPath10","l","m","itisCheck","countMoves","_l","_isDestEnemyOccupied","_l2","_isDestEnemyOccupied2","_l3","_isDestEnemyOccupied3","_l4","_isDestEnemyOccupied4","_l5","_isDestEnemyOccupied5","_l6","_isDestEnemyOccupied6","_l7","_isDestEnemyOccupied7","_l8","_isDestEnemyOccupied8","blackPieces","whitePieces","_j7","_j8","_countMoves","_l9","_isDestEnemyOccupied9","_l10","_isDestEnemyOccupied10","_l11","_isDestEnemyOccupied11","_l12","_isDestEnemyOccupied12","_l13","_isDestEnemyOccupied13","_l14","_isDestEnemyOccupied14","_l15","_isDestEnemyOccupied15","_l16","_isDestEnemyOccupied16","_j9","_j10","isLegal","newSquares","dontChange","_this2","showButtons","handleClick","render","document","getElementById","9"],"mappings":"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"},"code":"(this[\"webpackJsonpreact-chess\"]=this[\"webpackJsonpreact-chess\"]||[]).push([[0],{36:function(e,t,s){e.exports=s(85)},41:function(e,t,s){e.exports=s.p+\"static/media/white_bishop.28e8d8aa.svg\"},42:function(e,t,s){e.exports=s.p+\"static/media/black_bishop.749373a9.svg\"},43:function(e,t,s){e.exports=s.p+\"static/media/white_king.31362a80.svg\"},44:function(e,t,s){e.exports=s.p+\"static/media/black_king.ea645f11.svg\"},45:function(e,t,s){e.exports=s.p+\"static/media/white_knight.3ece5029.svg\"},46:function(e,t,s){e.exports=s.p+\"static/media/black_knight.88ad52be.svg\"},47:function(e,t,s){e.exports=s.p+\"static/media/white_pawn.27d127d0.svg\"},48:function(e,t,s){e.exports=s.p+\"static/media/black_pawn.44553199.svg\"},49:function(e,t,s){e.exports=s.p+\"static/media/white_queen.01938cfd.svg\"},50:function(e,t,s){e.exports=s.p+\"static/media/black_queen.9fbe0beb.svg\"},51:function(e,t,s){e.exports=s.p+\"static/media/white_rook.007b43f5.svg\"},52:function(e,t,s){e.exports=s.p+\"static/media/black_rook.e7f61dec.svg\"},82:function(e,t){},85:function(e,t,s){\"use strict\";s.r(t);var a=s(0),i=s.n(a),n=s(34),r=s.n(n),o=(s(9),s(7)),l=s(1),c=s(2),h=s(6),u=s(4),f=s(3);function v(e){return i.a.createElement(\"button\",{className:\"square \"+e.shade,onClick:e.onClick,style:e.style})}var g=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t){var s=this;return i.a.createElement(v,{style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return s.props.onClick(e)}})}},{key:\"render\",value:function(){for(var e=[],t=0;t<8;t++){for(var s=[],a=0;a<8;a++){var n=p(t)&&p(a)||!p(t)&&!p(a)?\"light-square\":\"dark-square\";s.push(this.renderSquare(8*t+a,n))}e.push(i.a.createElement(\"div\",{className:\"board-row\"},s))}return i.a.createElement(\"div\",{id:\"centered\"},e)}}]),s}(i.a.Component);function p(e){return e%2===0}var b=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t,s){return i.a.createElement(v,{piece:e,style:e.style})}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"board-row\"},this.props.whiteFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))),i.a.createElement(\"div\",{className:\"board-row\"},this.props.blackFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))))}}]),s}(i.a.Component),S=function e(t,s){Object(l.a)(this,e),this.player=t,this.style={backgroundImage:\"url('\"+s+\"')\"}},k=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?41:42))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%9===0?(i=9,s+=9):(i=7,s+=7);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S),d=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?43:44))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:\"getSrcToDestPath\",value:function(e,t){return[]}}]),a}(S),y=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?45:46))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:\"getSrcToDestPath\",value:function(){return[]}}]),a}(S),P=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e,s(1===e?47:48))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},i}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t,s){if(1===this.player){if(t===e-8&&!s||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(s&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!s||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(s&&(t===e+9||t===e+7))return!0}return!1}},{key:\"getSrcToDestPath\",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),a}(S),m=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?49:50))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):Math.abs(e-t)%9===0?(i=9,s+=9):Math.abs(e-t)%7===0?(i=7,s+=7):(i=1,s+=1);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S),w=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?51:52))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):(i=1,s+=1);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S);function M(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new P(2),e[t+40]=new P(1);return e[0]=new w(2),e[7]=new w(2),e[56]=new w(1),e[63]=new w(1),e[1]=new y(2),e[6]=new y(2),e[57]=new y(1),e[62]=new y(1),e[2]=new k(2),e[5]=new k(2),e[58]=new k(1),e[61]=new k(1),e[3]=new m(2),e[4]=new d(2),e[59]=new m(1),e[60]=new d(1),e}var T=s(35),D=s.n(T);function O(e,t){var s={query:\"token=\"+t},a=D()(e,s);return{socket:a,connectionStatus:a.connected?0:-1}}function j(e){var t=[];if(e)for(var s=0;s<e.length;s++){var a=e[s].toString().split(\" \");switch(a[0]){case\"King\":t.push(new d(parseInt(a[1])));break;case\"Pawn\":t.push(new P(parseInt(a[1])));break;case\"Queen\":t.push(new m(parseInt(a[1])));break;case\"Bishop\":t.push(new k(parseInt(a[1])));break;case\"Knight\":t.push(new y(parseInt(a[1])));break;case\"Rook\":t.push(new w(parseInt(a[1])));break;default:t.push(null)}}return t}var q=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(l.a)(this,s),a=t.call(this,e);var i,n=function(){var e=window.location.href,t=new URL(e),s=t.hostname,a=t.searchParams.get(\"pm\"),i=t.searchParams.get(\"gm\");return{host:s,token:t.searchParams.get(\"token\"),playmanster:a,gamemaster:i}}(),r=O(n.host+\":\"+n.playmanster,n.token);return a.state={squares:M(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,kingStatus:\"\",turn:\"white\",type:null,myTurn:!1,changePawn:-1,host:n.host,gamemaster:n.gamemaster,token:n.token,socket:r.socket,status:\"\",connectionStatus:r.connectionStatus,progress:0,roundID:null},a.setBishop=a.setBishop.bind(Object(h.a)(a)),a.setQueen=a.setQueen.bind(Object(h.a)(a)),a.setKnight=a.setKnight.bind(Object(h.a)(a)),a.setRook=a.setRook.bind(Object(h.a)(a)),(i=Object(h.a)(a)).state.socket.on(\"wait\",(function(e){i.setState({connectionStatus:1,roundID:e.roundID})})),i.state.socket.on(\"init\",(function(e){null===i.state.type?i.setState({connectionStatus:2,myTurn:e.turn,roundID:e.roundID,myColor:e.turn?\"white\":\"black\"}):i.setState({connectionStatus:2,roundID:e.roundID})})),i.state.socket.on(\"viewer\",(function(e){console.log(\"VIWER\");var t=j(e);i.setState({connectionStatus:5,squares:t,myTurn:!1})})),i.state.socket.on(\"board\",(function(e){var t,s,a=j(e.board),n=j(e.whiteFallenSoldiers),r=j(e.blackFallenSoldiers);e.dontChange?(t=i.state.turn,s=i.state.player):(t=\"white\"===i.state.turn?\"black\":\"white\",s=1===i.state.player?2:1),console.log(e.board),console.log(a),i.setState({squares:a,turn:t,whiteFallenSoldiers:n,blackFallenSoldiers:r,status:e.status,kingStatus:e.kingStatus,player:s,myTurn:!0}),0!==e.progress&&i.setState({connectionStatus:3})})),i.state.socket.on(\"disconnect\",(function(e){if(!(i.state.connectionStatus<0||i.state.connectionStatus>2)){i.state.socket.disconnect(),i.setState({connectionStatus:4});var t=new XMLHttpRequest;t.onload=function(e){if(4===t.readyState)if(200===t.connectionStatus){var s=JSON.parse(t.responseText);i.reconnect(s.playmaster)}else 403===t.connectionStatus&&i.setState({connectionStatus:-3})};var s=\"http://\"+i.state.host+\":\"+i.state.gamemaster+\"?token=\"+i.state.token+\"&game=chess\";t.open(\"GET\",s),t.send()}})),i.state.socket.on(\"endgame\",(function(e){i.setState({connectionStatus:4}),i.state.socket.disconnect()})),a}return Object(c.a)(s,[{key:\"handleClick\",value:function(e){if(this.state.myTurn){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"RGB(111,143,114)\"}),this.setState({status:\"Choose destination for the selected piece\",sourceSelection:e})):(this.setState({status:\"Wrong selection. Choose player \"+this.state.player+\" pieces.\"}),t[e]&&(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"\"})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=Object(o.a)(Object(o.a)({},t[this.state.sourceSelection].style),{},{backgroundColor:\"\"}),t[e]&&t[e].player===this.state.player&&(t[this.state.sourceSelection]instanceof d||t[this.state.sourceSelection]instanceof w)&&(t[e]instanceof d||t[e]instanceof w)){var s=!0;if(1===t[e].player?60===this.state.sourceSelection&&t[this.state.sourceSelection]instanceof d?63!==e&&56!==e&&(s=!1):60===e&&t[e]instanceof d?63!==this.state.sourceSelection&&56!==this.state.sourceSelection&&(s=!1):s=!1:4===this.state.sourceSelection&&t[this.state.sourceSelection]instanceof d?0!==e&&7!==e&&(s=!1):4===e&&t[e]instanceof d?0!==this.state.sourceSelection&&7!==this.state.sourceSelection&&(s=!1):s=!1,s&&(1===t[e].player?63===e||63===this.state.sourceSelection?(t[61]||t[62])&&(s=!1):(t[57]||t[58]||t[59])&&(s=!1):7===e||7===this.state.sourceSelection?(t[5]||t[6])&&(s=!1):(t[1]||t[2]||t[3])&&(s=!1),s))if(1===t[e].player){if(63===e||63===this.state.sourceSelection){for(var a=0;a<t.length;a++)if(t[a]&&t[a].player!==this.state.player){var i=t[a].getSrcToDestPath(a,60),n=t[a].getSrcToDestPath(a,61),r=t[a].getSrcToDestPath(a,62);if(t[a].isMovePossible(a,60,!1)&&this.isMoveLegal(i,t)||t[a].isMovePossible(a,61,!1)&&this.isMoveLegal(n,t)||t[a].isMovePossible(a,62,!1)&&this.isMoveLegal(r,t)){s=!1;break}}}else for(var l=0;l<t.length;l++)if(t[l]&&t[l].player!==this.state.player){var c=t[l].getSrcToDestPath(l,60),h=t[l].getSrcToDestPath(l,59),u=t[l].getSrcToDestPath(l,58);if(t[l].isMovePossible(l,60,!1)&&this.isMoveLegal(c,t)||t[l].isMovePossible(l,59,!1)&&this.isMoveLegal(h,t)||t[l].isMovePossible(l,58,!1)&&this.isMoveLegal(u,t)){s=!1;break}}}else if(7===e||7===this.state.sourceSelection){for(var f=0;f<t.length;f++)if(t[f]&&t[f].player!==this.state.player){var v=t[f].getSrcToDestPath(f,4),g=t[f].getSrcToDestPath(f,5),p=t[f].getSrcToDestPath(f,6);if(t[f].isMovePossible(f,4,!1)&&this.isMoveLegal(v,t)||t[f].isMovePossible(f,5,!1)&&this.isMoveLegal(g,t)||t[f].isMovePossible(f,6,!1)&&this.isMoveLegal(p,t)){s=!1;break}}}else for(var b=0;b<t.length;b++)if(t[b]&&t[b].player!==this.state.player){var S=t[b].getSrcToDestPath(b,4),k=t[b].getSrcToDestPath(b,3),y=t[b].getSrcToDestPath(b,2);if(t[b].isMovePossible(b,4,!1)&&this.isMoveLegal(S,t)||t[b].isMovePossible(b,3,!1)&&this.isMoveLegal(k,t)||t[b].isMovePossible(b,2,!1)&&this.isMoveLegal(y,t)){s=!1;break}}if(s){1===t[e].player?(63===e||63===this.state.sourceSelection?(t[62]=t[60],t[61]=t[63],t[63]=null):(t[58]=t[60],t[59]=t[56],t[56]=null),t[60]=null):(7===e||7===this.state.sourceSelection?(t[6]=t[4],t[5]=t[7],t[7]=null):(t[2]=t[4],t[3]=t[0],t[0]=null),t[4]=null);var m=1===this.state.player?2:1,M=\"white\"===this.state.turn?\"black\":\"white\";this.setState({squares:t,player:m,turn:M,type:M,kingStatus:\"\",myTurn:!this.state.myTurn,changePawn:-1,status:\"Castling occured.\",sourceSelection:-1});var T=this.classesToStrings(t),D=this.classesToStrings(this.state.whiteFallenSoldiers),O=this.classesToStrings(this.state.blackFallenSoldiers),j={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:0};this.state.socket.emit(\"update\",j)}else this.setState({status:\"Wrong selection. Castling not allowed.\",sourceSelection:-1})}else if(t[e]&&t[e].player===this.state.player)this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1});else{var q=this.state.whiteFallenSoldiers.slice(),C=this.state.blackFallenSoldiers.slice(),L=!!t[e],I=t[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,L),F=t[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),E=this.isMoveLegal(F,t);if(I&&E){var x=!1,N=!1;null!==t[e]&&(1===t[e].player?(q.push(t[e]),x=!0):(C.push(t[e]),N=!0));var R=!1;\"Check.\"===this.state.kingStatus&&(R=!0);var _=0,K=t[e];t[e]=t[this.state.sourceSelection],t[this.state.sourceSelection]=null;var B=1===this.state.player?2:1,Q=\"white\"===this.state.turn?\"black\":\"white\";this.setState({sourceSelection:-1,squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,myTurn:!this.state.myTurn,player:B,status:\"\",kingStatus:\"\",turn:Q,type:Q,changePawn:-1});var W=!0;if(R){for(var J=0;J<t.length;J++)if(t[J]&&t[J]instanceof d&&t[J].player===this.state.player){for(var Y=0;Y<t.length;Y++)if(t[Y]&&t[Y].player!==this.state.player){var G=t[Y].getSrcToDestPath(Y,J);if(t[Y].isMovePossible(Y,J,L)&&this.isMoveLegal(G,t)){t[this.state.sourceSelection]=t[e],t[e]=K,B=1===this.state.player?1:2,Q=\"white\"===this.state.turn?\"white\":\"black\",x?q.pop():N&&C.pop(),this.setState({squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,player:B,myTurn:this.state.myTurn,kingStatus:\"Check.\",status:\"Wrong selection. You need to avoid check.\",turn:Q,type:Q}),_=-1,W=!1;break}}break}}else for(var A=0;A<t.length;A++)if(t[A]&&t[A]instanceof d&&t[A].player===this.state.player){for(var H=0;H<t.length;H++)if(t[H]&&t[H].player!==this.state.player){var U=t[H].getSrcToDestPath(H,A);if(t[H].isMovePossible(H,A,L)&&this.isMoveLegal(U,t)){t[this.state.sourceSelection]=t[e],t[e]=K,B=1===this.state.player?1:2,Q=\"white\"===this.state.turn?\"white\":\"black\",x?q.pop():N&&C.pop(),this.setState({squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,myTurn:this.state.myTurn,player:B,kingStatus:\"\",status:\"Wrong selection. You cannot go to check.\",turn:Q,type:Q}),_=-1,W=!1;break}}break}if(W){for(var V=0;V<t.length;V++)if(t[V]&&t[V]instanceof d&&t[V].player!==this.state.player){for(var X=0;X<t.length;X++)if(t[X]&&t[X].player===this.state.player){var z=t[X].getSrcToDestPath(X,V);if(t[X].isMovePossible(X,V,L)&&this.isMoveLegal(z,t)){for(var Z=0;Z<t.length;Z++)if(t[Z]&&t[Z].player!==this.state.player)for(var $=0;$<z.length;$++)if(t[Z].isMovePossible(Z,z[$],L)&&this.isMoveLegal(t[Z].getSrcToDestPath(Z,z[$]),t)&&!(t[Z]instanceof d)){itisCheck=!0;break}if(!0===itisCheck){var ee=0;if((!t[V-1]||V-1===X)&&V-1>=0){for(var te=0;te<t.length;te++)if(t[te]&&t[te].player===this.state.player&&te!==X){var se=!!t[te];if(t[te].isMovePossible(te,V-1,se)&&this.isMoveLegal(t[te].getSrcToDestPath(te,V-1),t)){ee++;break}}}else ee++;if((!t[V+1]||V+1===X)&&V+1<64){for(var ae=0;ae<t.length;ae++)if(t[ae]&&t[ae].player===this.state.player&&ae!==X){var ie=!!t[ae];if(t[ae].isMovePossible(ae,V+1,ie)&&this.isMoveLegal(t[ae].getSrcToDestPath(ae,V+1),t)){ee++;break}}}else ee++;if((!t[V-7]||V-7===X)&&V-7>=0){for(var ne=0;ne<t.length;ne++)if(t[ne]&&t[ne].player===this.state.player&&ne!==X){var re=!!t[ne];if(t[ne].isMovePossible(ne,V-7,re)&&this.isMoveLegal(t[ne].getSrcToDestPath(ne,V-7),t)){ee++;break}}}else ee++;if((!t[V+7]||V+7===X)&&V+7<64){for(var oe=0;oe<t.length;oe++)if(t[oe]&&t[oe].player===this.state.player&&oe!==X){var le=!!t[oe];if(t[oe].isMovePossible(oe,V+7,le)&&this.isMoveLegal(t[oe].getSrcToDestPath(oe,V+7),t)){ee++;break}}}else ee++;if((!t[V-8]||V-8===X)&&V-8>=0){for(var ce=0;ce<t.length;ce++)if(t[ce]&&t[ce].player===this.state.player&&ce!==X){var he=!!t[ce];if(t[ce].isMovePossible(ce,V-8,he)&&this.isMoveLegal(t[ce].getSrcToDestPath(ce,V-8),t)){ee++;break}}}else ee++;if((!t[V+8]||V+8===X)&&V+8<64){for(var ue=0;ue<t.length;ue++)if(t[ue]&&t[ue].player===this.state.player&&ue!==X){var fe=!!t[ue];if(t[ue].isMovePossible(ue,V+8,fe)&&this.isMoveLegal(t[ue].getSrcToDestPath(ue,V+8),t)){ee++;break}}}else ee++;if((!t[V-9]||V-9===X)&&V-9>=0){for(var ve=0;ve<t.length;ve++)if(t[ve]&&t[ve].player===this.state.player&&ve!==X){var ge=!!t[ve];if(t[ve].isMovePossible(ve,V-9,ge)&&this.isMoveLegal(t[ve].getSrcToDestPath(ve,V-9),t)){ee++;break}}}else ee++;if((!t[V+9]||V+9===X)&&V+9<64){for(var pe=0;pe<t.length;pe++)if(t[pe]&&t[pe].player===this.state.player&&pe!==X){var be=!!t[pe];if(t[pe].isMovePossible(pe,V+9,be)&&this.isMoveLegal(t[pe].getSrcToDestPath(pe,V+9),t)){ee++;break}}}else ee++;8===ee&&(itisCheck=!1)}!0===itisCheck?(this.setState({kingStatus:\"Check.\"}),_=1):(this.setState({kingStatus:\"Checkmate.\"}),_=2);break}}break}for(var Se=0,ke=0,de=0;de<t.length;de++)t[de]&&(1===t[de].player?ke++:Se++);if(1===Se&&1===ke)this.setState({kingStatus:\"Stalemate.\"}),_=3;else if(1===Se&&1===this.state.player||1===ke&&2===this.state.player)for(var ye=0;ye<t.length;ye++)if(t[ye]&&t[ye]instanceof d&&t[ye].player!==this.state.player){var Pe=0;if(!t[ye-1]&&ye-1>0){for(var me=0;me<t.length;me++)if(t[me]&&t[me].player===this.state.player){var we=!!t[me];if(t[me].isMovePossible(me,ye-1,we)&&this.isMoveLegal(t[me].getSrcToDestPath(me,ye-1),t)){Pe++;break}}}else Pe++;if(!t[ye+1]&&ye+1<64){for(var Me=0;Me<t.length;Me++)if(t[Me]&&t[Me].player===this.state.player){var Te=!!t[Me];if(t[Me].isMovePossible(Me,ye+1,Te)&&this.isMoveLegal(t[Me].getSrcToDestPath(Me,ye+1),t)){Pe++;break}}}else Pe++;if(!t[ye-7]&&ye-7>0){for(var De=0;De<t.length;De++)if(t[De]&&t[De].player===this.state.player){var Oe=!!t[De];if(t[De].isMovePossible(De,ye-7,Oe)&&this.isMoveLegal(t[De].getSrcToDestPath(De,ye-7),t)){Pe++;break}}}else Pe++;if(!t[ye+7]&&ye+7<64){for(var je=0;je<t.length;je++)if(t[je]&&t[je].player===this.state.player){var qe=!!t[je];if(t[je].isMovePossible(je,ye+7,qe)&&this.isMoveLegal(t[je].getSrcToDestPath(je,ye+7),t)){Pe++;break}}}else Pe++;if(!t[ye-8]&&ye-8>0){for(var Ce=0;Ce<t.length;Ce++)if(t[Ce]&&t[Ce].player===this.state.player){var Le=!!t[Ce];if(t[Ce].isMovePossible(Ce,ye-8,Le)&&this.isMoveLegal(t[Ce].getSrcToDestPath(Ce,ye-8),t)){Pe++;break}}}else Pe++;if(!t[ye+8]&&ye+8<64){for(var Ie=0;Ie<t.length;Ie++)if(t[Ie]&&t[Ie].player===this.state.player){var Fe=!!t[Ie];if(t[Ie].isMovePossible(Ie,ye+8,Fe)&&this.isMoveLegal(t[Ie].getSrcToDestPath(Ie,ye+8),t)){Pe++;break}}}else Pe++;if(!t[ye-9]&&ye-9>0){for(var Ee=0;Ee<t.length;Ee++)if(t[Ee]&&t[Ee].player===this.state.player){var xe=!!t[Ee];if(t[Ee].isMovePossible(Ee,ye-9,xe)&&this.isMoveLegal(t[Ee].getSrcToDestPath(Ee,ye-9),t)){Pe++;break}}}else Pe++;if(!t[ye+9]&&ye+9<64){for(var Ne=0;Ne<t.length;Ne++)if(t[Ne]&&t[Ne].player===this.state.player){var Re=!!t[Ne];if(t[Ne].isMovePossible(Ne,ye+9,Re)&&this.isMoveLegal(t[Ne].getSrcToDestPath(Ne,ye+9),t)){Pe++;break}}}else Pe++;8===Pe&&(this.setState({kingStatus:\"Stalemate.\"}),_=3);break}if(1===this.state.player){for(var _e=0;_e<8;_e++)if(t[_e]&&1===t[_e].player&&t[_e]instanceof P){this.setState({changePawn:_e});break}}else for(var Ke=56;Ke<64;Ke++)if(t[Ke]&&2===t[Ke].player&&t[Ke]instanceof P){this.setState({changePawn:Ke});break}}if(-1!==_){T=this.classesToStrings(t),D=this.classesToStrings(q),O=this.classesToStrings(C);var Be={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,kingStatus:\"\",progress:0};2===_?Be={roundID:this.state.roundID,board:T,kingStatus:\"Checkmate.\",whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:1}:3===_?Be={roundID:this.state.roundID,board:T,kingStatus:\"Stalemate.\",whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:2}:1===_&&(Be={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,kingStatus:\"Check.\",progress:0}),this.state.socket.emit(\"update\",Be)}}else this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1})}}}},{key:\"isMoveLegal\",value:function(e,t){for(var s=!0,a=0;a<e.length;a++)null!==t[e[a]]&&(s=!1);return s}},{key:\"classesToStrings\",value:function(e){console.log(\"squares\"),console.log(e);for(var t=[],s=0;s<e.length;s++)e[s]?e[s]instanceof d?1===e[s].player?t.push(\"King 1\"):t.push(\"King 2\"):e[s]instanceof P?1===e[s].player?t.push(\"Pawn 1\"):t.push(\"Pawn 2\"):e[s]instanceof m?1===e[s].player?t.push(\"Queen 1\"):t.push(\"Queen 2\"):e[s]instanceof k?1===e[s].player?t.push(\"Bishop 1\"):t.push(\"Bishop 2\"):e[s]instanceof y?1===e[s].player?t.push(\"Knight 1\"):t.push(\"Knight 2\"):e[s]instanceof w&&(1===e[s].player?t.push(\"Rook 1\"):t.push(\"Rook 2\")):t.push(0);return console.log(\"textSquares\"),console.log(t),t}},{key:\"setBishop\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new k(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new k(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setQueen\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new m(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new m(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setKnight\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new y(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new y(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setRook\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new w(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new w(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"render\",value:function(){var e=this,t=!1;-1!==this.state.changePawn&&(t=!0);this.state.player;return i.a.createElement(\"div\",{className:\"game\"},i.a.createElement(\"div\",{className:\"game-title\"},i.a.createElement(\"div\",null,\"Chess\")),i.a.createElement(\"div\",{className:\"game-board\"},i.a.createElement(g,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),i.a.createElement(\"div\",{className:\"game-info row\"},\"Your color:\",i.a.createElement(\"div\",{id:\"player-turn-box\",style:{backgroundColor:this.state.myColor}}),i.a.createElement(\"div\",{className:\"game-status\"},this.state.kingStatus),i.a.createElement(\"div\",{className:\"game-status\"},this.state.status),i.a.createElement(\"div\",{className:\"fallen-soldier-block\"},i.a.createElement(b,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers})),t?i.a.createElement(\"div\",null,\" \",i.a.createElement(\"button\",{onClick:this.setBishop},\" Bishop \"),i.a.createElement(\"button\",{onClick:this.setQueen},\" Queen \"),i.a.createElement(\"button\",{onClick:this.setKnight},\" Knight \"),i.a.createElement(\"button\",{onClick:this.setRook},\" Rook \")):i.a.createElement(\"div\",null,\" \")))}}]),s}(i.a.Component);r.a.render(i.a.createElement(q,null),document.getElementById(\"root\"))},9:function(e,t,s){}},[[36,1,2]]]);","extractedComments":[]}