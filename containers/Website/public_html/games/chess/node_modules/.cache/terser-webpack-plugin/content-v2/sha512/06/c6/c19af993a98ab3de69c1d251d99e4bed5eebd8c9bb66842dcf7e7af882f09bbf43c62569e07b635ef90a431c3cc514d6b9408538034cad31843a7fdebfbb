{"map":{"version":3,"sources":["static/js/main.c5fbb905.chunk.js"],"names":["this","push","36","module","exports","__webpack_require__","41","p","42","43","44","45","46","47","48","49","50","51","52","82","85","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","Square","props","a","createElement","className","shade","onClick","style","board_Board","_React$Component","Object","Board","_super","apply","arguments","key","value","i","squareShade","_this","squares","board","squareRows","j","isEven","renderSquare","id","Component","num","fallen_soldier_block_FallenSoldierBlock","FallenSoldierBlock","square","piece","whiteFallenSoldiers","map","ws","index","blackFallenSoldiers","bs","piece_Piece","Piece","player","iconUrl","backgroundImage","bishop_Bishop","_Piece","Bishop","call","src","dest","Math","abs","pathStart","pathEnd","incrementBy","path","king_King","King","knight_Knight","Knight","pawn_Pawn","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","queen_Queen","Queen","mod","diff","rook_Rook","Rook","initialiseChessBoard","Array","fill","lib","lib_default","connect","server","token","handShake","query","socket","connectionStatus","setListeners","obj","state","on","message","setState","roundID","type","myTurn","myColor","console","log","classes","stringsToClasses","turn","status","kingStatus","endstate","disconnect","xhr","XMLHttpRequest","onload","e","readyState","respone","JSON","parse","responseText","port","playmaster","host","data","reconnect","ms","min","max","url","gamemaster","floor","random","setTimeout","open","setRequestHeader","send","length","splitter","toString","split","parseInt","game_Game","Game","args","url_string","window","location","URL","hostname","searchParams","get","getArgumenets","sourceSelection","changePawn","progress","setBishop","bind","setQueen","setKnight","setRook","slice","backgroundColor","isPossible","srcToDestPath1","getSrcToDestPath","srcToDestPath2","srcToDestPath3","isMovePossible","isMoveLegal","_j","_srcToDestPath","_srcToDestPath2","_srcToDestPath3","_j2","_srcToDestPath4","_srcToDestPath5","_srcToDestPath6","_j3","_srcToDestPath7","_srcToDestPath8","_srcToDestPath9","textSquares","classesToStrings","textWhiteFallenSoldiers","textBlackFallenSoldiers","_message","emit","srcToDestPath","whitePushed","blackPushed","check","itisCheck","saveSquare","_player","_turn","moveOn","_j4","k","checkSrcToDestPath","pop","_j5","_k","_checkSrcToDestPath","_j6","_k2","_srcToDestPath10","l","m","countMoves","_l","_isDestEnemyOccupied","_l2","_isDestEnemyOccupied2","_l3","_isDestEnemyOccupied3","_l4","_isDestEnemyOccupied4","_l5","_isDestEnemyOccupied5","_l6","_isDestEnemyOccupied6","_l7","_isDestEnemyOccupied7","_l8","_isDestEnemyOccupied8","blackPieces","whitePieces","_j7","_j8","_countMoves","_l9","_isDestEnemyOccupied9","_l10","_isDestEnemyOccupied10","_l11","_isDestEnemyOccupied11","_l12","_isDestEnemyOccupied12","_l13","_isDestEnemyOccupied13","_l14","_isDestEnemyOccupied14","_l15","_isDestEnemyOccupied15","_l16","_isDestEnemyOccupied16","_j9","_j10","isLegal","newSquares","dontChange","_this2","showButtons","showGameStatus","endState","showWinner","showTurn","symbol","handleClick","dangerouslySetInnerHTML","__html","render","document","getElementById","9"],"mappings":"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"},"code":"(this[\"webpackJsonpreact-chess\"]=this[\"webpackJsonpreact-chess\"]||[]).push([[0],{36:function(e,t,s){e.exports=s(85)},41:function(e,t,s){e.exports=s.p+\"static/media/white_bishop.28e8d8aa.svg\"},42:function(e,t,s){e.exports=s.p+\"static/media/black_bishop.749373a9.svg\"},43:function(e,t,s){e.exports=s.p+\"static/media/white_king.31362a80.svg\"},44:function(e,t,s){e.exports=s.p+\"static/media/black_king.ea645f11.svg\"},45:function(e,t,s){e.exports=s.p+\"static/media/white_knight.3ece5029.svg\"},46:function(e,t,s){e.exports=s.p+\"static/media/black_knight.88ad52be.svg\"},47:function(e,t,s){e.exports=s.p+\"static/media/white_pawn.27d127d0.svg\"},48:function(e,t,s){e.exports=s.p+\"static/media/black_pawn.44553199.svg\"},49:function(e,t,s){e.exports=s.p+\"static/media/white_queen.01938cfd.svg\"},50:function(e,t,s){e.exports=s.p+\"static/media/black_queen.9fbe0beb.svg\"},51:function(e,t,s){e.exports=s.p+\"static/media/white_rook.007b43f5.svg\"},52:function(e,t,s){e.exports=s.p+\"static/media/black_rook.e7f61dec.svg\"},82:function(e,t){},85:function(e,t,s){\"use strict\";s.r(t);var a=s(0),i=s.n(a),n=s(34),r=s.n(n),o=(s(9),s(7)),l=s(1),c=s(2),h=s(6),u=s(4),f=s(3);function v(e){return i.a.createElement(\"button\",{className:\"square \"+e.shade,onClick:e.onClick,style:e.style})}var g=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t){var s=this;return i.a.createElement(v,{style:this.props.squares[e]?this.props.squares[e].style:null,shade:t,onClick:function(){return s.props.onClick(e)}})}},{key:\"render\",value:function(){for(var e=[],t=0;t<8;t++){for(var s=[],a=0;a<8;a++){var n=p(t)&&p(a)||!p(t)&&!p(a)?\"light-square\":\"dark-square\";s.push(this.renderSquare(8*t+a,n))}e.push(i.a.createElement(\"div\",{className:\"board-row\"},s))}return i.a.createElement(\"div\",{id:\"centered\"},e)}}]),s}(i.a.Component);function p(e){return e%2===0}var b=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:\"renderSquare\",value:function(e,t,s){return i.a.createElement(v,{piece:e,style:e.style})}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"board-row\"},this.props.whiteFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))),i.a.createElement(\"div\",{className:\"board-row\"},this.props.blackFallenSoldiers.map((function(t,s){return e.renderSquare(t,s)}))))}}]),s}(i.a.Component),S=function e(t,s){Object(l.a)(this,e),this.player=t,this.style={backgroundImage:\"url('\"+s+\"')\"}},d=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?41:42))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%9===0?(i=9,s+=9):(i=7,s+=7);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S),k=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?43:44))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-9===t||e-8===t||e-7===t||e+1===t||e+9===t||e+8===t||e+7===t||e-1===t}},{key:\"getSrcToDestPath\",value:function(e,t){return[]}}]),a}(S),y=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?45:46))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){return e-17===t||e-10===t||e+6===t||e+15===t||e-15===t||e-6===t||e+10===t||e+17===t}},{key:\"getSrcToDestPath\",value:function(){return[]}}]),a}(S),m=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e,s(1===e?47:48))).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},i}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t,s){if(1===this.player){if(t===e-8&&!s||t===e-16&&-1!==this.initialPositions[1].indexOf(e))return!0;if(s&&(t===e-9||t===e-7))return!0}else if(2===this.player){if(t===e+8&&!s||t===e+16&&-1!==this.initialPositions[2].indexOf(e))return!0;if(s&&(t===e+9||t===e+7))return!0}return!1}},{key:\"getSrcToDestPath\",value:function(e,t){return t===e-16?[e-8]:t===e+16?[e+8]:[]}}]),a}(S),P=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?49:50))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%9===0||Math.abs(e-t)%7===0||Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):Math.abs(e-t)%9===0?(i=9,s+=9):Math.abs(e-t)%7===0?(i=7,s+=7):(i=1,s+=1);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S),w=function(e){Object(u.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e,s(1===e?51:52))}return Object(c.a)(a,[{key:\"isMovePossible\",value:function(e,t){var s=e%8,a=8-s;return Math.abs(e-t)%8===0||t>=e-s&&t<e+a}},{key:\"getSrcToDestPath\",value:function(e,t){var s,a,i,n=[];e>t?(s=t,a=e):(s=e,a=t),Math.abs(e-t)%8===0?(i=8,s+=8):(i=1,s+=1);for(var r=s;r<a;r+=i)n.push(r);return n}}]),a}(S);function M(){for(var e=Array(64).fill(null),t=8;t<16;t++)e[t]=new m(2),e[t+40]=new m(1);return e[0]=new w(2),e[7]=new w(2),e[56]=new w(1),e[63]=new w(1),e[1]=new y(2),e[6]=new y(2),e[57]=new y(1),e[62]=new y(1),e[2]=new d(2),e[5]=new d(2),e[58]=new d(1),e[61]=new d(1),e[3]=new P(2),e[4]=new k(2),e[59]=new P(1),e[60]=new k(1),e}var T=s(35),D=s.n(T);function O(e,t){var s={query:\"token=\"+t},a=D()(e,s);return{socket:a,connectionStatus:a.connected?0:-1}}function j(e){e.state.socket.on(\"wait\",(function(t){e.setState({connectionStatus:1,roundID:t.roundID})})),e.state.socket.on(\"init\",(function(t){null===e.state.type?e.setState({connectionStatus:2,myTurn:t.turn,roundID:t.roundID,myColor:t.turn?\"white\":\"black\"}):e.setState({connectionStatus:2,roundID:t.roundID})})),e.state.socket.on(\"viewer\",(function(t){console.log(\"VIWER\");var s=q(t);e.setState({connectionStatus:5,squares:s,myTurn:!1})})),e.state.socket.on(\"board\",(function(t){var s,a,i=q(t.board),n=q(t.whiteFallenSoldiers),r=q(t.blackFallenSoldiers);t.dontChange?(s=e.state.turn,a=e.state.player):(s=\"white\"===e.state.turn?\"black\":\"white\",a=1===e.state.player?2:1),console.log(t.board),console.log(i),e.setState({squares:i,turn:s,whiteFallenSoldiers:n,blackFallenSoldiers:r,status:t.status,kingStatus:t.kingStatus,player:a,myTurn:!0}),1===t.progress?e.setState({connectionStatus:3,endstate:1}):2===t.progress&&e.setState({connectionStatus:3,endstate:2})})),e.state.socket.on(\"disconnect\",(function(t){if(!(e.state.connectionStatus<0||e.state.connectionStatus>2)){e.state.socket.disconnect(),e.setState({connectionStatus:-2});var s=new XMLHttpRequest;s.onload=function(t){if(4===s.readyState)if(200===s.connectionStatus){var a=JSON.parse(s.responseText);!function(e,t){console.log(\"reconnecting...\");var s=e.state.host+\":\"+t,a=e.state.token,i=O(s,a);e.setState({socket:i.socket,status:i.status}),console.log(i.socket),j(e)}(e,a.playmaster)}else 403===s.connectionStatus&&e.setState({connectionStatus:-3,endstate:1})};var a,i,n,r=\"http://\"+(e.state.host+\":\"+e.state.gamemaster+\"/client\")+\"?token=\"+e.state.token+\"&game=chess&roundID=\"+e.state.roundID;a=100*(i=1,n=300,Math.floor(Math.random()*(n-i+1))+i),setTimeout((function(){s.open(\"GET\",r),s.setRequestHeader(\"Access-Control-Allow-Origin\",\"*\"),s.send()}),a)}})),e.state.socket.on(\"endgame\",(function(t){e.setState({connectionStatus:4}),e.state.socket.disconnect()}))}function q(e){var t=[];if(e)for(var s=0;s<e.length;s++){var a=e[s].toString().split(\" \");switch(a[0]){case\"King\":t.push(new k(parseInt(a[1])));break;case\"Pawn\":t.push(new m(parseInt(a[1])));break;case\"Queen\":t.push(new P(parseInt(a[1])));break;case\"Bishop\":t.push(new d(parseInt(a[1])));break;case\"Knight\":t.push(new y(parseInt(a[1])));break;case\"Rook\":t.push(new w(parseInt(a[1])));break;default:t.push(null)}}return t}var C=function(e){Object(u.a)(s,e);var t=Object(f.a)(s);function s(e){var a;Object(l.a)(this,s),a=t.call(this,e);var i=function(){var e=window.location.href,t=new URL(e),s=t.hostname,a=t.searchParams.get(\"pm\"),i=t.searchParams.get(\"gm\");return{host:s,token:t.searchParams.get(\"token\"),playmaster:a,gamemaster:i}}(),n=O(i.host+\":\"+i.playmanster,i.token);return a.state={squares:M(),whiteFallenSoldiers:[],blackFallenSoldiers:[],player:1,sourceSelection:-1,kingStatus:\"\",turn:\"white\",type:null,myTurn:!1,changePawn:-1,host:i.host,gamemaster:i.gamemaster,token:i.token,socket:n.socket,status:\"\",connectionStatus:n.connectionStatus,progress:0,roundID:null,endstate:0},a.setBishop=a.setBishop.bind(Object(h.a)(a)),a.setQueen=a.setQueen.bind(Object(h.a)(a)),a.setKnight=a.setKnight.bind(Object(h.a)(a)),a.setRook=a.setRook.bind(Object(h.a)(a)),j(Object(h.a)(a)),a}return Object(c.a)(s,[{key:\"handleClick\",value:function(e){if(this.state.myTurn){var t=this.state.squares.slice();if(-1===this.state.sourceSelection)t[e]&&t[e].player===this.state.player?(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"RGB(111,143,114)\"}),this.setState({status:\"Choose destination for the selected piece\",sourceSelection:e})):(this.setState({status:\"Wrong selection. Choose player \"+this.state.player+\" pieces.\"}),t[e]&&(t[e].style=Object(o.a)(Object(o.a)({},t[e].style),{},{backgroundColor:\"\"})));else if(this.state.sourceSelection>-1)if(t[this.state.sourceSelection].style=Object(o.a)(Object(o.a)({},t[this.state.sourceSelection].style),{},{backgroundColor:\"\"}),t[e]&&t[e].player===this.state.player&&(t[this.state.sourceSelection]instanceof k||t[this.state.sourceSelection]instanceof w)&&(t[e]instanceof k||t[e]instanceof w)){var s=!0;if(1===t[e].player?60===this.state.sourceSelection&&t[this.state.sourceSelection]instanceof k?63!==e&&56!==e&&(s=!1):60===e&&t[e]instanceof k?63!==this.state.sourceSelection&&56!==this.state.sourceSelection&&(s=!1):s=!1:4===this.state.sourceSelection&&t[this.state.sourceSelection]instanceof k?0!==e&&7!==e&&(s=!1):4===e&&t[e]instanceof k?0!==this.state.sourceSelection&&7!==this.state.sourceSelection&&(s=!1):s=!1,s&&(1===t[e].player?63===e||63===this.state.sourceSelection?(t[61]||t[62])&&(s=!1):(t[57]||t[58]||t[59])&&(s=!1):7===e||7===this.state.sourceSelection?(t[5]||t[6])&&(s=!1):(t[1]||t[2]||t[3])&&(s=!1),s))if(1===t[e].player){if(63===e||63===this.state.sourceSelection){for(var a=0;a<t.length;a++)if(t[a]&&t[a].player!==this.state.player){var i=t[a].getSrcToDestPath(a,60),n=t[a].getSrcToDestPath(a,61),r=t[a].getSrcToDestPath(a,62);if(t[a].isMovePossible(a,60,!1)&&this.isMoveLegal(i,t)||t[a].isMovePossible(a,61,!1)&&this.isMoveLegal(n,t)||t[a].isMovePossible(a,62,!1)&&this.isMoveLegal(r,t)){s=!1;break}}}else for(var l=0;l<t.length;l++)if(t[l]&&t[l].player!==this.state.player){var c=t[l].getSrcToDestPath(l,60),h=t[l].getSrcToDestPath(l,59),u=t[l].getSrcToDestPath(l,58);if(t[l].isMovePossible(l,60,!1)&&this.isMoveLegal(c,t)||t[l].isMovePossible(l,59,!1)&&this.isMoveLegal(h,t)||t[l].isMovePossible(l,58,!1)&&this.isMoveLegal(u,t)){s=!1;break}}}else if(7===e||7===this.state.sourceSelection){for(var f=0;f<t.length;f++)if(t[f]&&t[f].player!==this.state.player){var v=t[f].getSrcToDestPath(f,4),g=t[f].getSrcToDestPath(f,5),p=t[f].getSrcToDestPath(f,6);if(t[f].isMovePossible(f,4,!1)&&this.isMoveLegal(v,t)||t[f].isMovePossible(f,5,!1)&&this.isMoveLegal(g,t)||t[f].isMovePossible(f,6,!1)&&this.isMoveLegal(p,t)){s=!1;break}}}else for(var b=0;b<t.length;b++)if(t[b]&&t[b].player!==this.state.player){var S=t[b].getSrcToDestPath(b,4),d=t[b].getSrcToDestPath(b,3),y=t[b].getSrcToDestPath(b,2);if(t[b].isMovePossible(b,4,!1)&&this.isMoveLegal(S,t)||t[b].isMovePossible(b,3,!1)&&this.isMoveLegal(d,t)||t[b].isMovePossible(b,2,!1)&&this.isMoveLegal(y,t)){s=!1;break}}if(s){1===t[e].player?(63===e||63===this.state.sourceSelection?(t[62]=t[60],t[61]=t[63],t[63]=null):(t[58]=t[60],t[59]=t[56],t[56]=null),t[60]=null):(7===e||7===this.state.sourceSelection?(t[6]=t[4],t[5]=t[7],t[7]=null):(t[2]=t[4],t[3]=t[0],t[0]=null),t[4]=null);var P=1===this.state.player?2:1,M=\"white\"===this.state.turn?\"black\":\"white\";this.setState({squares:t,player:P,turn:M,type:M,kingStatus:\"\",myTurn:!this.state.myTurn,changePawn:-1,status:\"Castling occured.\",sourceSelection:-1});var T=this.classesToStrings(t),D=this.classesToStrings(this.state.whiteFallenSoldiers),O=this.classesToStrings(this.state.blackFallenSoldiers),j={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:0};this.state.socket.emit(\"update\",j)}else this.setState({status:\"Wrong selection. Castling not allowed.\",sourceSelection:-1})}else if(t[e]&&t[e].player===this.state.player)this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1});else{var q=this.state.whiteFallenSoldiers.slice(),C=this.state.blackFallenSoldiers.slice(),I=!!t[e],L=t[this.state.sourceSelection].isMovePossible(this.state.sourceSelection,e,I),E=t[this.state.sourceSelection].getSrcToDestPath(this.state.sourceSelection,e),F=this.isMoveLegal(E,t);if(L&&F){var x=!1,R=!1;null!==t[e]&&(1===t[e].player?(q.push(t[e]),x=!0):(C.push(t[e]),R=!0));var _=!1;\"Check.\"===this.state.kingStatus&&(_=!0);var N=0,K=!1,B=t[e];t[e]=t[this.state.sourceSelection],t[this.state.sourceSelection]=null;var Q=1===this.state.player?2:1,W=\"white\"===this.state.turn?\"black\":\"white\";this.setState({sourceSelection:-1,squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,myTurn:!this.state.myTurn,player:Q,status:\"\",kingStatus:\"\",turn:W,type:W,changePawn:-1});var Y=!0;if(_){for(var A=0;A<t.length;A++)if(t[A]&&t[A]instanceof k&&t[A].player===this.state.player){for(var H=0;H<t.length;H++)if(t[H]&&t[H].player!==this.state.player){var J=t[H].getSrcToDestPath(H,A);if(t[H].isMovePossible(H,A,I)&&this.isMoveLegal(J,t)){t[this.state.sourceSelection]=t[e],t[e]=B,Q=1===this.state.player?1:2,W=\"white\"===this.state.turn?\"white\":\"black\",x?q.pop():R&&C.pop(),this.setState({squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,player:Q,myTurn:this.state.myTurn,kingStatus:\"Check.\",status:\"Wrong selection. You need to avoid check.\",turn:W,type:W}),N=-1,Y=!1;break}}break}}else for(var U=0;U<t.length;U++)if(t[U]&&t[U]instanceof k&&t[U].player===this.state.player){for(var G=0;G<t.length;G++)if(t[G]&&t[G].player!==this.state.player){var V=t[G].getSrcToDestPath(G,U);if(t[G].isMovePossible(G,U,I)&&this.isMoveLegal(V,t)){t[this.state.sourceSelection]=t[e],t[e]=B,Q=1===this.state.player?1:2,W=\"white\"===this.state.turn?\"white\":\"black\",x?q.pop():R&&C.pop(),this.setState({squares:t,whiteFallenSoldiers:q,blackFallenSoldiers:C,myTurn:this.state.myTurn,player:Q,kingStatus:\"\",status:\"Wrong selection. You cannot go to check.\",turn:W,type:W}),N=-1,Y=!1;break}}break}if(Y){for(var z=0;z<t.length;z++)if(t[z]&&t[z]instanceof k&&t[z].player!==this.state.player){for(var X=0;X<t.length;X++)if(t[X]&&t[X].player===this.state.player){var Z=t[X].getSrcToDestPath(X,z);if(t[X].isMovePossible(X,z,I)&&this.isMoveLegal(Z,t)){for(var $=0;$<t.length;$++)if(t[$]&&t[$].player!==this.state.player)for(var ee=0;ee<Z.length;ee++)if(t[$].isMovePossible($,Z[ee],I)&&this.isMoveLegal(t[$].getSrcToDestPath($,Z[ee]),t)&&!(t[$]instanceof k)){K=!0;break}if(!0===K){var te=0;if((!t[z-1]||z-1===X)&&z-1>=0){for(var se=0;se<t.length;se++)if(t[se]&&t[se].player===this.state.player&&se!==X){var ae=!!t[se];if(t[se].isMovePossible(se,z-1,ae)&&this.isMoveLegal(t[se].getSrcToDestPath(se,z-1),t)){te++;break}}}else te++;if((!t[z+1]||z+1===X)&&z+1<64){for(var ie=0;ie<t.length;ie++)if(t[ie]&&t[ie].player===this.state.player&&ie!==X){var ne=!!t[ie];if(t[ie].isMovePossible(ie,z+1,ne)&&this.isMoveLegal(t[ie].getSrcToDestPath(ie,z+1),t)){te++;break}}}else te++;if((!t[z-7]||z-7===X)&&z-7>=0){for(var re=0;re<t.length;re++)if(t[re]&&t[re].player===this.state.player&&re!==X){var oe=!!t[re];if(t[re].isMovePossible(re,z-7,oe)&&this.isMoveLegal(t[re].getSrcToDestPath(re,z-7),t)){te++;break}}}else te++;if((!t[z+7]||z+7===X)&&z+7<64){for(var le=0;le<t.length;le++)if(t[le]&&t[le].player===this.state.player&&le!==X){var ce=!!t[le];if(t[le].isMovePossible(le,z+7,ce)&&this.isMoveLegal(t[le].getSrcToDestPath(le,z+7),t)){te++;break}}}else te++;if((!t[z-8]||z-8===X)&&z-8>=0){for(var he=0;he<t.length;he++)if(t[he]&&t[he].player===this.state.player&&he!==X){var ue=!!t[he];if(t[he].isMovePossible(he,z-8,ue)&&this.isMoveLegal(t[he].getSrcToDestPath(he,z-8),t)){te++;break}}}else te++;if((!t[z+8]||z+8===X)&&z+8<64){for(var fe=0;fe<t.length;fe++)if(t[fe]&&t[fe].player===this.state.player&&fe!==X){var ve=!!t[fe];if(t[fe].isMovePossible(fe,z+8,ve)&&this.isMoveLegal(t[fe].getSrcToDestPath(fe,z+8),t)){te++;break}}}else te++;if((!t[z-9]||z-9===X)&&z-9>=0){for(var ge=0;ge<t.length;ge++)if(t[ge]&&t[ge].player===this.state.player&&ge!==X){var pe=!!t[ge];if(t[ge].isMovePossible(ge,z-9,pe)&&this.isMoveLegal(t[ge].getSrcToDestPath(ge,z-9),t)){te++;break}}}else te++;if((!t[z+9]||z+9===X)&&z+9<64){for(var be=0;be<t.length;be++)if(t[be]&&t[be].player===this.state.player&&be!==X){var Se=!!t[be];if(t[be].isMovePossible(be,z+9,Se)&&this.isMoveLegal(t[be].getSrcToDestPath(be,z+9),t)){te++;break}}}else te++;8===te&&(K=!1)}!0===K?(this.setState({kingStatus:\"Check.\"}),N=1):(this.setState({kingStatus:\"Checkmate.\"}),N=2);break}}break}for(var de=0,ke=0,ye=0;ye<t.length;ye++)t[ye]&&(1===t[ye].player?ke++:de++);if(1===de&&1===ke)this.setState({kingStatus:\"Stalemate.\"}),N=3;else if(1===de&&1===this.state.player||1===ke&&2===this.state.player)for(var me=0;me<t.length;me++)if(t[me]&&t[me]instanceof k&&t[me].player!==this.state.player){var Pe=0;if(!t[me-1]&&me-1>0){for(var we=0;we<t.length;we++)if(t[we]&&t[we].player===this.state.player){var Me=!!t[we];if(t[we].isMovePossible(we,me-1,Me)&&this.isMoveLegal(t[we].getSrcToDestPath(we,me-1),t)){Pe++;break}}}else Pe++;if(!t[me+1]&&me+1<64){for(var Te=0;Te<t.length;Te++)if(t[Te]&&t[Te].player===this.state.player){var De=!!t[Te];if(t[Te].isMovePossible(Te,me+1,De)&&this.isMoveLegal(t[Te].getSrcToDestPath(Te,me+1),t)){Pe++;break}}}else Pe++;if(!t[me-7]&&me-7>0){for(var Oe=0;Oe<t.length;Oe++)if(t[Oe]&&t[Oe].player===this.state.player){var je=!!t[Oe];if(t[Oe].isMovePossible(Oe,me-7,je)&&this.isMoveLegal(t[Oe].getSrcToDestPath(Oe,me-7),t)){Pe++;break}}}else Pe++;if(!t[me+7]&&me+7<64){for(var qe=0;qe<t.length;qe++)if(t[qe]&&t[qe].player===this.state.player){var Ce=!!t[qe];if(t[qe].isMovePossible(qe,me+7,Ce)&&this.isMoveLegal(t[qe].getSrcToDestPath(qe,me+7),t)){Pe++;break}}}else Pe++;if(!t[me-8]&&me-8>0){for(var Ie=0;Ie<t.length;Ie++)if(t[Ie]&&t[Ie].player===this.state.player){var Le=!!t[Ie];if(t[Ie].isMovePossible(Ie,me-8,Le)&&this.isMoveLegal(t[Ie].getSrcToDestPath(Ie,me-8),t)){Pe++;break}}}else Pe++;if(!t[me+8]&&me+8<64){for(var Ee=0;Ee<t.length;Ee++)if(t[Ee]&&t[Ee].player===this.state.player){var Fe=!!t[Ee];if(t[Ee].isMovePossible(Ee,me+8,Fe)&&this.isMoveLegal(t[Ee].getSrcToDestPath(Ee,me+8),t)){Pe++;break}}}else Pe++;if(!t[me-9]&&me-9>0){for(var xe=0;xe<t.length;xe++)if(t[xe]&&t[xe].player===this.state.player){var Re=!!t[xe];if(t[xe].isMovePossible(xe,me-9,Re)&&this.isMoveLegal(t[xe].getSrcToDestPath(xe,me-9),t)){Pe++;break}}}else Pe++;if(!t[me+9]&&me+9<64){for(var _e=0;_e<t.length;_e++)if(t[_e]&&t[_e].player===this.state.player){var Ne=!!t[_e];if(t[_e].isMovePossible(_e,me+9,Ne)&&this.isMoveLegal(t[_e].getSrcToDestPath(_e,me+9),t)){Pe++;break}}}else Pe++;8===Pe&&(this.setState({kingStatus:\"Stalemate.\"}),N=3);break}if(1===this.state.player){for(var Ke=0;Ke<8;Ke++)if(t[Ke]&&1===t[Ke].player&&t[Ke]instanceof m){this.setState({changePawn:Ke});break}}else for(var Be=56;Be<64;Be++)if(t[Be]&&2===t[Be].player&&t[Be]instanceof m){this.setState({changePawn:Be});break}}if(-1!==N){T=this.classesToStrings(t),D=this.classesToStrings(q),O=this.classesToStrings(C);var Qe={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,kingStatus:\"\",progress:0};2===N?(Qe={roundID:this.state.roundID,board:T,kingStatus:\"Checkmate.\",whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:1},this.setState({endstate:3})):3===N?(Qe={roundID:this.state.roundID,board:T,kingStatus:\"Stalemate.\",whiteFallenSoldiers:D,blackFallenSoldiers:O,progress:2},this.setState({endstate:2})):1===N&&(Qe={roundID:this.state.roundID,board:T,whiteFallenSoldiers:D,blackFallenSoldiers:O,kingStatus:\"Check.\",progress:0}),this.state.socket.emit(\"update\",Qe)}}else this.setState({status:\"Wrong selection. Choose valid source and destination again.\",sourceSelection:-1})}}}},{key:\"isMoveLegal\",value:function(e,t){for(var s=!0,a=0;a<e.length;a++)null!==t[e[a]]&&(s=!1);return s}},{key:\"classesToStrings\",value:function(e){console.log(\"squares\"),console.log(e);for(var t=[],s=0;s<e.length;s++)e[s]?e[s]instanceof k?1===e[s].player?t.push(\"King 1\"):t.push(\"King 2\"):e[s]instanceof m?1===e[s].player?t.push(\"Pawn 1\"):t.push(\"Pawn 2\"):e[s]instanceof P?1===e[s].player?t.push(\"Queen 1\"):t.push(\"Queen 2\"):e[s]instanceof d?1===e[s].player?t.push(\"Bishop 1\"):t.push(\"Bishop 2\"):e[s]instanceof y?1===e[s].player?t.push(\"Knight 1\"):t.push(\"Knight 2\"):e[s]instanceof w&&(1===e[s].player?t.push(\"Rook 1\"):t.push(\"Rook 2\")):t.push(0);return console.log(\"textSquares\"),console.log(t),t}},{key:\"setBishop\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new d(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new d(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setQueen\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new P(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new P(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setKnight\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new y(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new y(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"setRook\",value:function(){var e=this.state.squares;1===this.state.player?(e[this.state.changePawn]=new w(2),this.setState({squares:e,changePawn:-1})):(e[this.state.changePawn]=new w(1),this.setState({squares:e,changePawn:-1}));var t=this.classesToStrings(this.state.squares),s={roundID:this.state.roundID,board:t,dontChange:!0};this.state.socket.emit(\"update\",s)}},{key:\"render\",value:function(){var e=this,t=!1;-1!==this.state.changePawn&&(t=!0);var s=function(e){var t;switch(e){case-3:t=\"Unauthorized connection.\";break;case-2:t=\"Redirecting...\";break;case-1:t=\"No connection found.\";break;case 0:t=\"Connected!\";break;case 1:t=\"Wait for opponent to connect.\";break;case 2:t=\"The game is active.\";break;case 3:t=\"The game is completed!\";break;case 4:t=\"The opponent left.\";break;case 5:t=\"Spectator mode.\";break;default:t=\"Undefined status.\"}return t}(this.state.connectionStatus),a=function(e,t){var s;return 5!==t&&(3===e?s=\"VICTORY!\":1===e?s=\"DEFEAT!\":2===e&&(s=\"TIE!\")),s}(this.state.endstate,this.state.connectionStatus);if(5!==this.state.connectionStatus)var n=function(e,t){var s;return 2===e&&(s=t?\"Your turn.\":\"Opponent's turn.\"),s}(this.state.connectionStatus,this.state.myTurn),r='Your color: <div id=\"player-turn-box\" style=\"background-color:'+this.state.myColor+'\"></div>';return i.a.createElement(\"div\",{className:\"game\"},i.a.createElement(\"div\",{className:\"game-title\"},i.a.createElement(\"div\",null,\"Chess\")),i.a.createElement(\"div\",{className:\"game-board\"},i.a.createElement(g,{squares:this.state.squares,onClick:function(t){return e.handleClick(t)}})),i.a.createElement(\"div\",{className:\"game-info\"},i.a.createElement(\"div\",null,s),i.a.createElement(\"td\",{dangerouslySetInnerHTML:{__html:r}}),i.a.createElement(\"div\",null,n),i.a.createElement(\"div\",{className:\"game-status\"},this.state.kingStatus),i.a.createElement(\"div\",{className:\"game-status\"},this.state.status),i.a.createElement(\"div\",{className:\"fallen-soldier-block\"},i.a.createElement(b,{whiteFallenSoldiers:this.state.whiteFallenSoldiers,blackFallenSoldiers:this.state.blackFallenSoldiers})),t?i.a.createElement(\"div\",null,\" \",i.a.createElement(\"button\",{onClick:this.setBishop},\" Bishop \"),i.a.createElement(\"button\",{onClick:this.setQueen},\" Queen \"),i.a.createElement(\"button\",{onClick:this.setKnight},\" Knight \"),i.a.createElement(\"button\",{onClick:this.setRook},\" Rook \")):i.a.createElement(\"div\",null,\" \")),i.a.createElement(\"div\",{id:\"endstate\"},a))}}]),s}(i.a.Component);r.a.render(i.a.createElement(C,null),document.getElementById(\"root\"))},9:function(e,t,s){}},[[36,1,2]]]);","extractedComments":[]}